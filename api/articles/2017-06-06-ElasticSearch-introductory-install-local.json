{"title":"ElasticSearch 初级使用教程-本地安装 (一)","slug":"2017-06-06-ElasticSearch-introductory-install-local","date":"2017-06-05T16:00:00.000Z","updated":"2019-12-08T16:56:55.000Z","comments":true,"path":"api/articles/2017-06-06-ElasticSearch-introductory-install-local.json","excerpt":"简介越来越多的公司使用ELK技术栈做为日志分析平台，ELK是三个工具的简称，即Logstash+ElasticSearch+Kibana，<br>其中以ElasticSearch(es)为核心（存储数据和查询数据），Logstash收集数据，Kibana进行数据展示，具体流程就是使用Logstash将日志做简单的分析后收集到ElasticSearch中，最后使用Kibana根据不同的业务进行展示（预警）。ElasticSearch底层使用lucene进行索引，到目前为止ElasticSearch共有3个大版本<br>ElasticSearch1.x 最初的版本<br>ElasticSearch2.x<br>ElasticSearch5.x 提高了性能，并且将elastic所有版本都统一<br>ElasticSearch6.x 安装依赖程序安装JDK<br>es5+需要jdk8的版本下载JDK1<br>2<br>wget http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz?AuthParam=1499007315_3290c5ba69a1db872cf77e9abbd5018e<br>cd /usr/share &amp;&amp; tar xavf jdk-8u131-linux-x64.tar.gz<br>配置环境变量1<br>2<br>3<br>4<br>5<br>sudo vim /etc/profile<br>#加入以下代码<br>export JAVA_HOME=/usr/share/jdk1.8.0_131<br>export PATH=$JAVA_HOME/bin:$PATH <br>export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar<br>","covers":["/static/images/2017-07-02/ES_9200_cat.png"],"content":"<link rel=\"stylesheet\" href=\"/assets/css/hint.min.css\"></link><link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css\"><div class=\".article-gallery\" <h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介<p>越来越多的公司使用ELK技术栈做为日志分析平台，ELK是三个工具的简称，即Logstash+ElasticSearch+Kibana，<br>其中以ElasticSearch(es)为核心（存储数据和查询数据），Logstash收集数据，Kibana进行数据展示，具体流程就是使用Logstash将日志做简单的分析后收集到ElasticSearch中，最后使用Kibana根据不同的业务进行展示（预警）。</p>\n<p>ElasticSearch底层使用lucene进行索引，到目前为止ElasticSearch共有3个大版本<br>ElasticSearch1.x 最初的版本<br>ElasticSearch2.x<br>ElasticSearch5.x 提高了性能，并且将elastic所有版本都统一<br>ElasticSearch6.x </p>\n<h2 id=\"安装依赖程序\"><a href=\"#安装依赖程序\" class=\"headerlink\" title=\"安装依赖程序\"></a>安装依赖程序</h2><p>安装JDK<br><strong>es5+需要jdk8的版本</strong></p>\n<ul>\n<li><p>下载JDK</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz?AuthParam=1499007315_3290c5ba69a1db872cf77e9abbd5018e</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/share &amp;&amp; tar xavf jdk-8u131-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>配置环境变量</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/profile</span><br><span class=\"line\"><span class=\"comment\">#加入以下代码</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/share/jdk1.8.0_131</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$JAVA_HOME</span>/bin:<span class=\"variable\">$PATH</span> </span><br><span class=\"line\"><span class=\"built_in\">export</span> CLASSPATH=.:<span class=\"variable\">$JAVA_HOME</span>/lib/dt.jar:<span class=\"variable\">$JAVA_HOME</span>/lib/tools.jar</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<a id=\"more\"></a>\n\n<h2 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h2><ul>\n<li><p>下载elasticSearch-5.4</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.4.1.tar.gz</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>下载elasticSearch其他格式或其他版本 <br><br><a href=\"https://www.elastic.co/downloads/elasticsearch\" target=\"_blank\" rel=\"noopener\">ElasticSearch</a></p>\n</li>\n</ul>\n<h2 id=\"解压并快速启动\"><a href=\"#解压并快速启动\" class=\"headerlink\" title=\"解压并快速启动\"></a>解压并快速启动</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar xzvf elasticsearch-5.4.1.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#创建一个普通用户</span></span><br><span class=\"line\">user add elastic</span><br><span class=\"line\"></span><br><span class=\"line\">sudo passwd elastic <span class=\"comment\">#盲打密码</span></span><br><span class=\"line\"></span><br><span class=\"line\">su elastic</span><br><span class=\"line\"></span><br><span class=\"line\">chown -R elastic:elastic ./elasticsearch-5.4.1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> elasticsearch-5.4.1</span><br><span class=\"line\"></span><br><span class=\"line\">bin/elasticsearch <span class=\"comment\">#按Ctrl+C结束</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#浏览器数据,显示json数据</span></span><br><span class=\"line\">http://127.0.0.1:9200</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"/static/images/2017-07-02/ES_9200_cat.png\" title=\"ES版本信息\" class=\"gallery-item\"><img src=\"/static/images/2017-07-02/ES_9200_cat.png\" alt=\"ES版本信息\"></a></p>\n<h2 id=\"安装head插件（ElasticSearch可视化）\"><a href=\"#安装head插件（ElasticSearch可视化）\" class=\"headerlink\" title=\"安装head插件（ElasticSearch可视化）\"></a>安装head插件（ElasticSearch可视化）</h2><p><a href=\"https://github.com/mobz/elasticsearch-head\" target=\"_blank\" rel=\"noopener\">Haed</a></p>\n<ul>\n<li><p>ES 2.0 <code>sudo elasticsearch/bin/plugin install mobz/elasticsearch-head</code></p>\n</li>\n<li><p>ES 1.0 <code>sudo elasticsearch/bin/plugin -install mobz/elasticsearch-head/1.x</code></p>\n</li>\n<li><p>ES 0.x <code>sudo elasticsearch/bin/plugin -install mobz/elasticsearch-head/0.9</code><br>open <a href=\"http://localhost:9200/_plugin/head/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/_plugin/head/</a></p>\n</li>\n<li><p>ES 5.x </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> git://github.com/mobz/elasticsearch-head.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> elasticsearch-head</span><br><span class=\"line\">npm install</span><br><span class=\"line\">npm run start</span><br><span class=\"line\">open http://localhost:9100/</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</div><script src=\"https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js\"></script><script>if (typeof lightGallery !== 'undefined') {\n        var options = {\n            selector: '.gallery-item'\n        };\n        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);\n        }</script>","more":"<h2 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h2><ul>\n<li><p>下载elasticSearch-5.4</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.4.1.tar.gz</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>下载elasticSearch其他格式或其他版本 <br><br><a href=\"https://www.elastic.co/downloads/elasticsearch\" target=\"_blank\" rel=\"noopener\">ElasticSearch</a></p>\n</li>\n</ul>\n<h2 id=\"解压并快速启动\"><a href=\"#解压并快速启动\" class=\"headerlink\" title=\"解压并快速启动\"></a>解压并快速启动</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar xzvf elasticsearch-5.4.1.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#创建一个普通用户</span></span><br><span class=\"line\">user add elastic</span><br><span class=\"line\"></span><br><span class=\"line\">sudo passwd elastic <span class=\"comment\">#盲打密码</span></span><br><span class=\"line\"></span><br><span class=\"line\">su elastic</span><br><span class=\"line\"></span><br><span class=\"line\">chown -R elastic:elastic ./elasticsearch-5.4.1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> elasticsearch-5.4.1</span><br><span class=\"line\"></span><br><span class=\"line\">bin/elasticsearch <span class=\"comment\">#按Ctrl+C结束</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#浏览器数据,显示json数据</span></span><br><span class=\"line\">http://127.0.0.1:9200</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"/static/images/2017-07-02/ES_9200_cat.png\" title=\"ES版本信息\" class=\"gallery-item\"><img src=\"/static/images/2017-07-02/ES_9200_cat.png\" alt=\"ES版本信息\"></a></p>\n<h2 id=\"安装head插件（ElasticSearch可视化）\"><a href=\"#安装head插件（ElasticSearch可视化）\" class=\"headerlink\" title=\"安装head插件（ElasticSearch可视化）\"></a>安装head插件（ElasticSearch可视化）</h2><p><a href=\"https://github.com/mobz/elasticsearch-head\" target=\"_blank\" rel=\"noopener\">Haed</a></p>\n<ul>\n<li><p>ES 2.0 <code>sudo elasticsearch/bin/plugin install mobz/elasticsearch-head</code></p>\n</li>\n<li><p>ES 1.0 <code>sudo elasticsearch/bin/plugin -install mobz/elasticsearch-head/1.x</code></p>\n</li>\n<li><p>ES 0.x <code>sudo elasticsearch/bin/plugin -install mobz/elasticsearch-head/0.9</code><br>open <a href=\"http://localhost:9200/_plugin/head/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/_plugin/head/</a></p>\n</li>\n<li><p>ES 5.x </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> git://github.com/mobz/elasticsearch-head.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> elasticsearch-head</span><br><span class=\"line\">npm install</span><br><span class=\"line\">npm run start</span><br><span class=\"line\">open http://localhost:9100/</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</div><script src=\"https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js\"></script><script>if (typeof lightGallery !== 'undefined') {\n        var options = {\n            selector: '.gallery-item'\n        };\n        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);\n        }</script>","categories":[{"name":"编程","path":"api/categories/编程.json"}],"tags":[{"name":"es","path":"api/tags/es.json"}]}