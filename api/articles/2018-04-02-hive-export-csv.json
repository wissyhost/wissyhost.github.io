{"title":"ä½¿ç”¨Hiveæ­£ç¡®å¯¼å‡ºcsvçš„å§¿åŠ¿","slug":"2018-04-02-hive-export-csv","date":"2018-04-02T13:17:56.000Z","updated":"2019-12-08T16:56:55.000Z","comments":false,"path":"api/articles/2018-04-02-hive-export-csv.json","excerpt":null,"covers":null,"content":"<link rel=\"stylesheet\" href=\"/assets/css/hint.min.css\"></link><link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css\"><div class=\".article-gallery\" <h3 id=\"ä½¿ç”¨Hiveå¯¼å‡ºcsv\"><a href=\"#ä½¿ç”¨Hiveå¯¼å‡ºcsv\" class=\"headerlink\" title=\"ä½¿ç”¨Hiveå¯¼å‡ºcsv\"></a>ä½¿ç”¨Hiveå¯¼å‡ºcsv<p>å¤§å®¶åœ¨å¯¼å‡ºcsvåï¼Œä½¿ç”¨Excelå¤§å®¶æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œæ–‡ä»¶çš„å­˜åœ¨å°‘é‡ä¸²è¡Œçš„æ•°æ®ï¼Œè™½ç„¶ä¸å½±å“æ•´ä½“æ•°æ®ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™é‡åˆ°é«˜ç²¾åº¦è®¡ç®—çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯éš¾å…æœ‰äº›å°´å°¬ğŸ˜…</p>\n<ol>\n<li>å¯¼å‡ºçš„æ—¶å€™è¿›è¡Œè½¬ä¹‰</li>\n<li>å¯¼å‡ºçš„æ—¶å€™ä½¿ç”¨å…¶ä»–æ ¼å¼ï¼Œåœ¨Excelä¸­ä½¿ç”¨ æ•°æ®-&gt;æ–‡ä»¶-&gt;è‡ªæ–‡æœ¬å¯¼å…¥ ä½¿ç”¨è‡ªå®šä¹‰æ ¼å¼å¯¼å…¥</li>\n<li>ä½¿ç”¨Hiveåºåˆ—åŒ–å¯¼å…¥,ä¼šè‡ªåŠ¨è§„æ•´æ ¼å¼<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span>  wys.wys_output</span><br><span class=\"line\"><span class=\"keyword\">ROW</span> <span class=\"keyword\">FORMAT</span> SERDE <span class=\"string\">'org.apache.hadoop.hive.serde2.OpenCSVSerde'</span></span><br><span class=\"line\"><span class=\"keyword\">WITH</span> SERDEPROPERTIES (</span><br><span class=\"line\"><span class=\"string\">\"separatorChar\"</span> = <span class=\"string\">\",\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"quoteChar\"</span>  = <span class=\"string\">\"\\\"\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"escapeChar\"</span>  = <span class=\"string\">\"\\\"\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"keyword\">STORED</span> <span class=\"keyword\">AS</span> TEXTFILE</span><br><span class=\"line\"><span class=\"keyword\">as</span>   <span class=\"keyword\">select</span></span><br><span class=\"line\">  <span class=\"keyword\">distinct</span></span><br><span class=\"line\">  a,</span><br><span class=\"line\">  b</span><br><span class=\"line\">  <span class=\"keyword\">from</span> xxx;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>Excelä¸­csvæ ¼å¼ä¸­ä¼šå‡ºç°\\n ä½¿ç”¨rtrimå’Œltrimå¯ä»¥å»é™¤,æ¯ä¸€åˆ—æ•°æ®éƒ½æ˜¯ä»¥<code>&quot;</code>åˆ†å‰²æ•°æ®,ä½†æ˜¯åœ¨æ•°æ®å‡ºç°<code>&quot;</code>å·çš„è¯å°±ä¼šå¯¼è‡´æ•°æ®ä¸²è¡Œ,æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>&quot;&quot;</code>æ¥ä»£è¡¨é‚£æ˜¯æ•°æ®ä¸­åŒå¼•å·</p>\n</div><script src=\"https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js\"></script><script>if (typeof lightGallery !== 'undefined') {\n        var options = {\n            selector: '.gallery-item'\n        };\n        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);\n        }</script>","more":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css\"><div class=\".article-gallery\" <h3 id=\"ä½¿ç”¨Hiveå¯¼å‡ºcsv\"><a href=\"#ä½¿ç”¨Hiveå¯¼å‡ºcsv\" class=\"headerlink\" title=\"ä½¿ç”¨Hiveå¯¼å‡ºcsv\"></a>ä½¿ç”¨Hiveå¯¼å‡ºcsv<p>å¤§å®¶åœ¨å¯¼å‡ºcsvåï¼Œä½¿ç”¨Excelå¤§å®¶æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œæ–‡ä»¶çš„å­˜åœ¨å°‘é‡ä¸²è¡Œçš„æ•°æ®ï¼Œè™½ç„¶ä¸å½±å“æ•´ä½“æ•°æ®ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™é‡åˆ°é«˜ç²¾åº¦è®¡ç®—çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯éš¾å…æœ‰äº›å°´å°¬ğŸ˜…</p>\n<ol>\n<li>å¯¼å‡ºçš„æ—¶å€™è¿›è¡Œè½¬ä¹‰</li>\n<li>å¯¼å‡ºçš„æ—¶å€™ä½¿ç”¨å…¶ä»–æ ¼å¼ï¼Œåœ¨Excelä¸­ä½¿ç”¨ æ•°æ®-&gt;æ–‡ä»¶-&gt;è‡ªæ–‡æœ¬å¯¼å…¥ ä½¿ç”¨è‡ªå®šä¹‰æ ¼å¼å¯¼å…¥</li>\n<li>ä½¿ç”¨Hiveåºåˆ—åŒ–å¯¼å…¥,ä¼šè‡ªåŠ¨è§„æ•´æ ¼å¼<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span>  wys.wys_output</span><br><span class=\"line\"><span class=\"keyword\">ROW</span> <span class=\"keyword\">FORMAT</span> SERDE <span class=\"string\">'org.apache.hadoop.hive.serde2.OpenCSVSerde'</span></span><br><span class=\"line\"><span class=\"keyword\">WITH</span> SERDEPROPERTIES (</span><br><span class=\"line\"><span class=\"string\">\"separatorChar\"</span> = <span class=\"string\">\",\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"quoteChar\"</span>  = <span class=\"string\">\"\\\"\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"escapeChar\"</span>  = <span class=\"string\">\"\\\"\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"keyword\">STORED</span> <span class=\"keyword\">AS</span> TEXTFILE</span><br><span class=\"line\"><span class=\"keyword\">as</span>   <span class=\"keyword\">select</span></span><br><span class=\"line\">  <span class=\"keyword\">distinct</span></span><br><span class=\"line\">  a,</span><br><span class=\"line\">  b</span><br><span class=\"line\">  <span class=\"keyword\">from</span> xxx;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>Excelä¸­csvæ ¼å¼ä¸­ä¼šå‡ºç°\\n ä½¿ç”¨rtrimå’Œltrimå¯ä»¥å»é™¤,æ¯ä¸€åˆ—æ•°æ®éƒ½æ˜¯ä»¥<code>&quot;</code>åˆ†å‰²æ•°æ®,ä½†æ˜¯åœ¨æ•°æ®å‡ºç°<code>&quot;</code>å·çš„è¯å°±ä¼šå¯¼è‡´æ•°æ®ä¸²è¡Œ,æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>&quot;&quot;</code>æ¥ä»£è¡¨é‚£æ˜¯æ•°æ®ä¸­åŒå¼•å·</p>\n</div><script src=\"https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js\"></script><script>if (typeof lightGallery !== 'undefined') {\n        var options = {\n            selector: '.gallery-item'\n        };\n        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);\n        }</script>","categories":[{"name":"Hive","path":"api/categories/Hive.json"},{"name":"å¤§æ•°æ®","path":"api/categories/å¤§æ•°æ®.json"}],"tags":[{"name":"hive,BigData,csv","path":"api/tags/hive,BigData,csv.json"}]}